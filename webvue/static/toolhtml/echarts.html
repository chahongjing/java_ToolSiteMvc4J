<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'> 
	<title>学习echarts</title>
	<link rel='stylesheet' type='text/css' href='../bootstrap/css/bootstrap.min.css'>
	<link rel='stylesheet' type='text/css' href='../css/common.css'>
	<style>
		.row{margin:0;}
	</style>
</head> 
<body>
	<div class="row">
	    <div class="col-sm-6">
	        <!-- 折线 -->
	        <div id="dashBoard" style="width: 100%; height: 400px;"></div>
	    </div>
	    <div class="col-sm-6">
	        <!-- 折线 -->
	        <div id="lineChart" style="width: 100%; height: 400px;"></div>
	    </div>
	</div>
	<div class="row">
	    <div class="col-sm-6">
	        <!-- 柱状图 -->
	        <div id="histogram" style="width: 100%; height: 400px;"></div>
	    </div>
	    <div class="col-sm-6">
	        <!-- 雷达图 -->
	        <div id="radar" style="width: 100%; height: 400px;"></div>
	    </div>
	</div>
	<div class="row">
	    <div class="col-sm-6">
	        <!-- 饼图 -->
	        <div id="pie" style="width: 100%; height: 400px;"></div>
	    </div>
	    <div class="col-sm-6">
	        <!-- 饼图 -->
	        <div id="normalDistribution" style="width: 100%; height: 400px;"></div>
	    </div>
	</div>
	<script src='../js/jquery-3.3.1.min.js'></script>
	<script src='../js/Utility.js'></script>
	<script src='../js/echarts.min.js'></script>
	<script>
        // dom结构
        var dashBoard = echarts.init(document.getElementById('dashBoard'));
        var lineChart = echarts.init(document.getElementById('lineChart'));
        var histogram = echarts.init(document.getElementById('histogram'));
        var radar = echarts.init(document.getElementById('radar'));
        var pie = echarts.init(document.getElementById('pie'));
        var normalDistribution = echarts.init(document.getElementById('normalDistribution'));

        // 页面加载
        $.get('http://localhost:9999/ToolSiteMvc4J/echarts/getChartsOption').then(function(resp) {
        	// 准备数据
	        var optionDashBoard = JSON.parse(resp.value.dashBoard);
	        var optionLineChart = JSON.parse(resp.value.lineChart);
	        var optionHistogram = JSON.parse(resp.value.histogram);
	        var optionRadar = JSON.parse(resp.value.radar);
	        var optionPie = JSON.parse(resp.value.pie);
	        var optionNormalDistribution = JSON.parse(resp.value.normalDistribution);
            // 基于准备好的dom，初始化仪表盘实例
            dashBoard.setOption(optionDashBoard, true);
            // 基于准备好的dom，初始化折线图实例
            lineChart.setOption(optionLineChart, true);
            // 基于准备好的dom，初始化柱状图实例
            histogram.setOption(optionHistogram, true);
            // 基于准备好的dom，初始化雷达实例
            radar.setOption(optionRadar, true);
            // 基于准备好的dom，初始化饼图实例
            pie.setOption(optionPie, true);
            // 基于准备好的dom，初始化正态分布图实例
            normalDistribution.setOption(optionNormalDistribution, true);
	    });

        // 图表自适应大小
        window.onresize = function () {
            dashBoard.resize();
            lineChart.resize();
            histogram.resize();
            radar.resize();
            pie.resize();
            normalDistribution.resize();
        }
	</script>
</body> 
</html>