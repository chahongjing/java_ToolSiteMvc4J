webpackJsonp([0],{"1lYN":function(s,t,a){"use strict";(function(s){var e=a("RH64");t.a={name:"appHeader",data:function(){return{user:{userName:"",oldPassword:null,newPassword:null,passwordAgain:null},showMenu:!1,showchangePasswordDialog:!1,hoverMenu:!1,oldPasswordStatus:{v:null,t:""},newPasswordStatus:{v:null,t:""},passwordAgainStatus:{v:null,t:""},modalOpt:{width:"350px"}}},methods:{building:function(){this.$toaster.warning("功能建设中...")},logout:function(){var s=this;s.$axios.get("/user/logout").then(function(t){t.data.status==ResultStatus.OK.key&&(s.$root.clearUser(),s.$router.push({path:"/login"}))})},openChangePasswordDialog:function(){this.user.oldPassword=null,this.user.newPassword=null,this.user.passwordAgain=null,this.oldPasswordStatus.v=null,this.newPasswordStatus.v=null,this.passwordAgainStatus.v=null,this.showchangePasswordDialog=!0},changePassword:function(){var s=this;return null===this.user.oldPassword||void 0===this.user.oldPassword||""===this.user.oldPassword||""===this.user.oldPassword.trim()?(s.oldPasswordStatus.v=2,void(s.oldPasswordStatus.t="原密码不能为空！")):(s.oldPasswordStatus.v=1,s.oldPasswordStatus.t="",null===this.user.newPassword||void 0===this.user.newPassword||""===this.user.newPassword||""===this.user.newPassword.trim()?(s.newPasswordStatus.v=2,void(s.newPasswordStatus.t="新密码不能为空！")):(s.newPasswordStatus.v=1,s.newPasswordStatus.t="",null===this.user.passwordAgain||void 0===this.user.passwordAgain||""===this.user.passwordAgain||""===this.user.passwordAgain.trim()?(s.passwordAgainStatus.v=2,void(s.passwordAgainStatus.t="确认密码不能为空！")):this.user.newPassword!==this.user.passwordAgain?(s.passwordAgainStatus.v=2,void(s.passwordAgainStatus.t="两次密码不一致！")):(s.passwordAgainStatus.v=1,s.passwordAgainStatus.t="",void s.$axios.get("/user/changePassword",{userCode:this.user.userCode,oldPassword:this.user.oldPassword,newPassword:this.user.newPassword}).then(function(t){t.data.status==ResultStatus.OK.key&&(s.$toaster.success("修改密码成功！"),s.showchangePasswordDialog=!1,s.user.oldPassword="",s.user.newPassword="",s.user.passwordAgain="")}))))},getErrorClass:function(s){var t={};return 1==this[s].v?t["info-success"]=!0:2==this[s].v&&(t["info-error"]=!0),t},enterMenu:function(){this.hoverMenu=!0},leaveMenu:function(){var s=this;s.hoverMenu=!1,setTimeout(function(){s.hoverMenu||(s.showMenu=!1)},400)},editInfo:function(){var s=this.$root.getUser();this.$router.push({path:"/user/userEdit",query:{id:s.userId,type:"editSelf"}}),this.showMenu=!1}},computed:{getSubMenuHeight:function(){var t=s(".dropdown-menu-right").children().length;return(this.showMenu?35*t:0)+"px"}},mounted:function(){this.user=this.$root.getUser()},components:{commonModal:e.a}}}).call(t,a("7t+N"))},"5BOO":function(s,t,a){"use strict";var e=a("1lYN"),o={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"head"},[a("div",{staticClass:"logo",attrs:{title:"首页"}},[a("a",{staticClass:"fl",attrs:{href:"javascript:void(0)"},on:{click:function(t){s.$root.goHome()}}},[a("i",{staticClass:"fa fa-android fa-2x white"})]),s._v(" "),a("a",{staticClass:"fl title pl10",attrs:{href:"javascript:void(0)"},on:{click:function(t){s.$root.goHome()}}},[s._v("\n      首页\n    ")])]),s._v(" "),a("div",{staticClass:"info"},[a("ul",{staticClass:"rightmenu",on:{mouseenter:s.enterMenu,mouseleave:s.leaveMenu}},[a("li",[a("a",{staticClass:"licontent relative submenu pointer",attrs:{href:"javascript:void(0)"}},[a("i",{staticClass:"fa fa-caret-down more text-center",attrs:{title:"更多操作"},on:{click:function(t){s.showMenu=!s.showMenu}}}),s._v(" "),a("ul",{staticClass:"dropdown-menu dropdown-menu-right",style:{height:s.getSubMenuHeight}},[a("li",{staticClass:"dropdown-item",on:{click:function(t){s.editInfo()}}},[a("i",{staticClass:"fa fa-id-card-o fa-fw c06f"}),s._v("修改个人信息\n            ")]),s._v(" "),a("li",{staticClass:"dropdown-item",on:{click:function(t){s.openChangePasswordDialog()}}},[a("i",{staticClass:"fa fa-key fa-fw text-danger"}),s._v("修改密码\n            ")]),s._v(" "),a("li",{staticClass:"dropdown-item bg-danger text-white",on:{click:function(t){s.logout()}}},[a("i",{staticClass:"fa fa-power-off fa-fw"}),s._v("注销\n            ")])])])]),s._v(" "),a("li",[a("a",{staticClass:"licontent pointer",attrs:{title:"消息",href:"javascript:void(0)"},on:{click:function(t){s.building()}}},[a("i",{staticClass:"fa fa-commenting-o icon-animated-vertical c5dd255 mr0"}),s._v(" "),a("span",{staticClass:"badge badge-success"},[s._v("2")])])]),s._v(" "),a("li",[a("a",{staticClass:"licontent pointer",attrs:{title:"公告",href:"javascript:void(0)"},on:{click:function(t){s.building()}}},[a("i",{staticClass:"fa fa-bullhorn icon-animated-horn cf93939 mr0"}),s._v(" "),a("span",{staticClass:"badge badge-danger"},[s._v("4")])])]),s._v(" "),a("li",[a("a",{staticClass:"licontent pointer",attrs:{title:"提醒",href:"javascript:void(0)"},on:{click:function(t){s.building()}}},[a("i",{staticClass:"fa fa-bell-o icon-animated-bell text-warning mr0"}),s._v(" "),a("span",{staticClass:"badge badge-warning"},[s._v("5")])])]),s._v(" "),a("li",{staticClass:"userInfo"},[a("a",{staticClass:"licontent",attrs:{title:s.user.userName+"\r\n"+s.user.userCode}},[a("i",{staticClass:"fa fa-user-o mr0 caf0"}),s._v(" "),a("span",{staticClass:"blank",domProps:{innerHTML:s._s(s.user.userName+"<br>"+s.user.userCode)}}),s._v(" "),a("span",{staticClass:"userName ellipsis",domProps:{textContent:s._s(s.user.userName)}}),s._v(" "),a("span",{staticClass:"userCode ellipsis",domProps:{textContent:s._s(s.user.userCode)}})])])])]),s._v(" "),a("common-modal",{attrs:{"show-modal":s.showchangePasswordDialog,options:s.modalOpt}},[a("div",{staticClass:"modal-header",attrs:{slot:"headerSlot"},slot:"headerSlot"},[a("h5",{staticClass:"modal-title"},[s._v("修改密码")]),s._v(" "),a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){s.showchangePasswordDialog=!1}}},[a("span",{staticClass:"closeicon",attrs:{title:"关闭"}},[s._v("×")])])]),s._v(" "),a("div",{staticClass:"modal-body pr30",attrs:{slot:"bodySlot"},slot:"bodySlot"},[a("form",{staticClass:"myform form-label-w100 block-form-group"},[a("div",{staticClass:"form-group",class:s.getErrorClass("oldPasswordStatus")},[a("label",{staticClass:"form-label req colon"},[s._v("原密码")]),s._v(" "),a("div",{staticClass:"form-content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.user.oldPassword,expression:"user.oldPassword"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"password",placeholder:"原密码",autofocus:""},domProps:{value:s.user.oldPassword},on:{input:function(t){t.target.composing||s.$set(s.user,"oldPassword",t.target.value)}}})]),s._v(" "),a("div",{staticClass:"form-info"},[a("i",{staticClass:"fa",attrs:{title:s.oldPasswordStatus.t}})]),s._v(" "),a("span",{staticClass:"error-msg",domProps:{textContent:s._s(s.oldPasswordStatus.t)}})]),s._v(" "),a("div",{staticClass:"form-group",class:s.getErrorClass("newPasswordStatus")},[a("label",{staticClass:"form-label req colon"},[s._v("新密码")]),s._v(" "),a("div",{staticClass:"form-content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.user.newPassword,expression:"user.newPassword"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"password",placeholder:"新密码",autofocus:""},domProps:{value:s.user.newPassword},on:{input:function(t){t.target.composing||s.$set(s.user,"newPassword",t.target.value)}}})]),s._v(" "),a("div",{staticClass:"form-info"},[a("i",{staticClass:"fa",attrs:{title:s.newPasswordStatus.t}})]),s._v(" "),a("span",{staticClass:"error-msg",domProps:{textContent:s._s(s.newPasswordStatus.t)}})]),s._v(" "),a("div",{staticClass:"form-group",class:s.getErrorClass("passwordAgainStatus")},[a("label",{staticClass:"form-label req colon"},[s._v("确认密码")]),s._v(" "),a("div",{staticClass:"form-content"},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.user.passwordAgain,expression:"user.passwordAgain"},{name:"focus",rawName:"v-focus"}],staticClass:"form-control",attrs:{type:"password",placeholder:"确认密码",autofocus:""},domProps:{value:s.user.passwordAgain},on:{input:function(t){t.target.composing||s.$set(s.user,"passwordAgain",t.target.value)}}})]),s._v(" "),a("div",{staticClass:"form-info"},[a("i",{staticClass:"fa",attrs:{title:s.passwordAgainStatus.t}})]),s._v(" "),a("span",{staticClass:"error-msg",domProps:{textContent:s._s(s.passwordAgainStatus.t)}})])])]),s._v(" "),a("div",{staticClass:"modal-footer",attrs:{slot:"footerSlot"},slot:"footerSlot"},[a("button",{staticClass:"btn btn-outline-purple",attrs:{type:"button"},on:{click:function(t){s.showchangePasswordDialog=!1}}},[a("i",{staticClass:"fa fa-times fa-plus-myrotate fa-back-myrotate"}),a("span",[s._v("取消")])]),s._v(" "),a("button",{staticClass:"btn btn-purple mr5",attrs:{type:"button"},on:{click:function(t){s.changePassword()}}},[a("i",{staticClass:"fa fa-check"}),s._v("确定\n      ")])])])],1)},staticRenderFns:[]};var i=function(s){a("Ooqz")},n=a("VU/8")(e.a,o,!1,i,"data-v-152302f9",null);t.a=n.exports},AYp1:function(s,t){},Ooqz:function(s,t){},YU1u:function(s,t,a){"use strict";var e=a("Ymiw"),o={name:"appMenu",data:function(){return{list:[]}},mounted:function(){this.getMenuData()},methods:{getMenuData:function(){var s=this.$root.getMenuList();if(s&&s.length>0)this.list=s;else{var t=this;t.$axios.get("/menu/queryMenu").then(function(s){if(s.data.status==ResultStatus.OK.key){for(var a={first:{},second:{}},e=0;e<s.data.value.length;e++){var o=s.data.value[e];o.isSelected=!1,a.first.selected&&a.first.selected.id==o.id&&(a.first.selected=o),a.second.selected&&a.second.selected.id==o.id&&(a.second.selected=o)}var i=s.data.value.filter(function(s){return!s.pId});for(e=0;e<i.length;e++)i[e].children=s.data.value.filter(function(s){return s.pId==i[e].id}),0==e&&(i[e].isSelected=!0,i[e].height=35*(i[e].children.length+1));a.first.selected&&(a.first.selected.isSelected=!0),a.second.selected&&(a.second.selected.isSelected=!0),t.list=i,t.list&&0!=t.list.length||t.setMenuShowOrHide(!1),t.$root.setMenuList(t.list)}})}},clickFirstMenu:function(s){if(s.isSelected)return s.isSelected=!1,s.height=35,void this.$root.setMenuList(this.list);for(var t=0;t<this.list.length;t++){var a=this.list[t];s==a?(a.isSelected=!a.isSelected,a.height=35*(a.children.length+1)):(a.isSelected=!1,a.height=35)}this.$root.setMenuList(this.list)},clickSecondMenu:function(s,t,a){a.stopPropagation(),t.isSelected||this.$root.clearBreadrumb();for(var o=0;o<this.list.length;o++)for(var i=this.list[o],n=0;n<i.children.length;n++){var r=i.children[n];s!=r&&(r.isSelected=!1)}t.isSelected=!0,this.$root.setMenuList(this.list),e.a.clearPagerModel(),this.$router.push({path:t.data.url})},toggleMenu:function(){this.setMenuShowOrHide(!this.$root.getShowMenu())},setMenuShowOrHide:function(s){this.$root.setShowMenu(s)}},computed:{showMenu:function(){return this.$root.getShowMenu()}}},i={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"menu",class:{hidemenu:!s.showMenu}},[a("div",{staticClass:"slide-menu"},[a("ul",{staticClass:"first-menu"},s._l(s.list,function(t){return a("li",{class:{selected:t.isSelected},style:{height:t.height+"px"},attrs:{title:t.name},on:{click:function(a){s.clickFirstMenu(t)}}},[a("div",[a("i",{class:"fa "+t.data.icon+" fw"}),s._v(" "),a("span",{domProps:{textContent:s._s(t.name)}}),s._v(" "),a("i",{staticClass:"fa fa-angle-down subMenuTog mr10",class:{open:t.isSelected}})]),s._v(" "),a("ul",{staticClass:"sub-menu",class:{show:t.isSelected}},s._l(t.children,function(e){return a("li",{class:{selected:e.isSelected},on:{click:function(a){s.clickSecondMenu(t,e,a)}}},[a("a",{attrs:{href:"javascript:void(0)"}},[a("i",{class:"fa "+e.data.icon+" fw"}),s._v(" "),a("span",{domProps:{textContent:s._s(e.name)}})])])}))])}))]),s._v(" "),a("span",{staticClass:"tog",on:{click:function(t){s.toggleMenu()}}},[a("i",{staticClass:"fa fa-angle-left"})])])},staticRenderFns:[]};var n=a("VU/8")(o,i,!1,function(s){a("AYp1")},"data-v-78dafa50",null);t.a=n.exports}});
//# sourceMappingURL=0.f9ac4e3820b9d4d11ca2.js.map