{"version":3,"sources":["webpack:///src/components/kvConfig/kvList.vue","webpack:///./src/components/kvConfig/kvList.vue?70bd","webpack:///./src/components/kvConfig/kvList.vue"],"names":["kvList","name","inject","data","allDisabled","searchKey","list","sexValue","sexList","nameOrderBy","value","enumMap","OrderByType","ASC","key","codeOrderBy","createdOnOrderBy","pager","pageNum","pageSize","loading","showChangePasswordDialog","userCode","password","YesNo","Sex","modalOpt","width","bigModalOpt","showHitoryDialog","historyItem","historyList","historyPager","methods","reloadPage","this","reload","add","me","$axios","get","then","resp","status","ResultStatus","OK","$router","push","path","query","id","edit","entity","search","goPage","queryList","userName","sex","commonService","getPagerInfo","page","queryHistoryList","kvId","goHistoryPage","deleteItem","$confirm","confirm","$toaster","success","showHistory","removeAllCache","mounted","components","commonModal","kvConfig_kvList","render","_vm","_h","$createElement","_c","_self","staticClass","directives","rawName","expression","attrs","type","on","click","$event","_v","placeholder","autofocus","domProps","input","target","composing","disabled","_m","_e","_l","item","index","textContent","_s","href","code","memo","$options","filters","formatDate","createTime","title","pager-info","show-modal","options","slot","changePassword","staticStyle","min-height","createByName","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sHA8IAA,GACAC,KAAA,WACAC,QAAA,UACAC,KAHA,WAIA,OACAC,aAAA,EACAC,UAAA,KACAC,QACAC,SAAA,GACAC,WACAC,aAAAC,MAAAC,QAAAC,YAAAC,IAAAC,KACAC,aAAAL,MAAA,MACAM,kBAAAN,MAAA,MACAO,OAAAC,QAAA,EAAAC,SAAA,EAAAC,SAAA,GACAC,0BAAA,EACAC,SAAA,KACAC,SAAA,KACAC,MAAAb,QAAAa,MACAC,IAAAd,QAAAc,IACAC,UAAAC,MAAA,SACAC,aAAAD,MAAA,UACAE,kBAAA,EACAC,YAAA,KACAC,eACAC,cAAAd,QAAA,EAAAC,SAAA,GAAAC,SAAA,KAGAa,SACAC,WADA,WAEAC,KAAAC,UAEAC,IAJA,WAKA,IAAAC,EAAAH,KACAA,KAAAI,OAAAC,IAAA,kBAAAC,KAAA,SAAAC,GACAA,EAAAvC,KAAAwC,QAAAC,aAAAC,GAAA/B,KACAwB,EAAAQ,QAAAC,MAAAC,KAAA,iBAAAC,OAAAC,GAAAR,EAAAvC,KAAAO,YAKAyC,KAbA,SAaAC,GACAjB,KAAAW,QAAAC,MAAAC,KAAA,iBAAAC,OAAAC,GAAAE,EAAAF,OAEAG,OAhBA,WAiBAlB,KAAAmB,OAAA,IAEAC,UAnBA,WAoBA,IAAAjB,EAAAH,KACAG,EAAAlC,aAAA,EACAkC,EAAArB,MAAAG,SAAA,EACAe,KAAAI,OAAAC,IAAA,2BACAgB,SAAArB,KAAA9B,UACAoD,IAAAtB,KAAA5B,SACAW,QAAAiB,KAAAlB,MAAAC,QACAC,SAAAgB,KAAAlB,MAAAE,SACAV,YAAA0B,KAAA1B,YAAAC,MACAK,YAAAoB,KAAApB,YAAAL,MACAM,iBAAAmB,KAAAnB,iBAAAN,QACA+B,KAAA,SAAAC,GACAA,EAAAvC,KAAAwC,QAAAC,aAAAC,GAAA/B,KACAwB,EAAAhC,KAAAoC,EAAAvC,KAAAO,MAAAJ,KACAgC,EAAArB,MAAAyC,EAAA,EAAAC,aAAAjB,EAAAvC,KAAAO,MAAA4B,EAAAgB,SAEAhB,EAAArB,MAAAG,SAAA,EAEAkB,EAAAlC,aAAA,KAGAkD,OAzCA,SAyCAM,GACAzB,KAAAlB,MAAAC,QAAA0C,EACAzB,KAAAoB,aAEAM,iBA7CA,WA8CA,IAAAvB,EAAAH,KACAG,EAAAlC,aAAA,EACAkC,EAAAN,aAAAZ,SAAA,EACAe,KAAAI,OAAAC,IAAA,8BACAtB,QAAAiB,KAAAH,aAAAd,QACAC,SAAAgB,KAAAH,aAAAb,SACA2C,KAAA3B,KAAAL,YAAAoB,KACAT,KAAA,SAAAC,GACAA,EAAAvC,KAAAwC,QAAAC,aAAAC,GAAA/B,KACAwB,EAAAP,YAAAW,EAAAvC,KAAAO,MAAAJ,KACAgC,EAAAN,aAAA0B,EAAA,EAAAC,aAAAjB,EAAAvC,KAAAO,MAAA4B,EAAAyB,gBAEAzB,EAAAN,aAAAZ,SAAA,EAEAkB,EAAAlC,aAAA,KAGA2D,cA/DA,SA+DAH,GACAzB,KAAAH,aAAAd,QAAA0C,EACAzB,KAAA0B,oBAEAG,WAAA,SAAAZ,GACA,IAAAd,EAAAH,KACAA,KAAA8B,SAAAC,QAAA,wBACA5B,EAAAC,OAAAC,IAAA,oBAAAU,GAAAE,EAAAF,KAAAT,KAAA,SAAAC,GACAA,EAAAvC,KAAAwC,QAAAC,aAAAC,GAAA/B,MACAwB,EAAA6B,SAAAC,QAAA,SACA9B,EAAAiB,kBAKAc,YAAA,SAAAjB,GACAjB,KAAAN,kBAAA,EACAM,KAAAL,YAAAsB,EACAjB,KAAA0B,oBAEAS,eAAA,WACA,IAAAhC,EAAAH,KACAA,KAAA8B,SAAAC,QAAA,yBACA5B,EAAAC,OAAAC,IAAA,4BAAAC,KAAA,SAAAC,GACAA,EAAAvC,KAAAwC,QAAAC,aAAAC,GAAA/B,KACAwB,EAAA6B,SAAAC,QAAA,mBAMAG,QAAA,WACApC,KAAAkB,UAEAmB,YAAAC,sBAAA,ICvQeC,GADEC,OAFjB,WAA0B,IAAAC,EAAAzC,KAAa0C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,4BAAsCF,EAAA,OAAYE,YAAA,0BAAoCF,EAAA,UAAeG,aAAajF,KAAA,WAAAkF,QAAA,aAAAzE,MAAA,eAAA0E,WAAA,mBAA0FH,YAAA,yBAAAI,OAA8CC,KAAA,uBAA6BC,IAAKC,MAAA,SAAAC,GAAyBb,EAAAvC,UAAY0C,EAAA,KAAUE,YAAA,oCAA8CL,EAAAc,GAAA,gBAAAd,EAAAc,GAAA,KAAAX,EAAA,UAAkDG,aAAajF,KAAA,WAAAkF,QAAA,aAAAzE,MAAA,eAAA0E,WAAA,mBAA0FH,YAAA,yBAAAI,OAA8CC,KAAA,uBAA6BC,IAAKC,MAAA,SAAAC,GAAyBb,EAAAN,qBAAuBS,EAAA,KAAUE,YAAA,oCAA8CL,EAAAc,GAAA,sBAAAd,EAAAc,GAAA,KAAAX,EAAA,OAAqDE,YAAA,cAAwBF,EAAA,QAAaE,YAAA,sDAAgEF,EAAA,OAAYE,YAAA,eAAyBF,EAAA,SAAcE,YAAA,qBAA+BL,EAAAc,GAAA,OAAAd,EAAAc,GAAA,KAAAX,EAAA,OAAsCE,YAAA,iBAA2BF,EAAA,SAAcG,aAAajF,KAAA,QAAAkF,QAAA,UAAAzE,MAAAkE,EAAA,UAAAQ,WAAA,cAA4EH,YAAA,eAAAI,OAAoCC,KAAA,OAAAK,YAAA,IAAAC,UAAA,IAA+CC,UAAWnF,MAAAkE,EAAA,WAAwBW,IAAKO,MAAA,SAAAL,GAAyBA,EAAAM,OAAAC,YAAsCpB,EAAAvE,UAAAoF,EAAAM,OAAArF,eAAoCkE,EAAAc,GAAA,KAAAX,EAAA,OAA4BE,YAAA,sBAAgCF,EAAA,UAAeE,YAAA,sBAAAI,OAAyCC,KAAA,SAAAW,SAAArB,EAAAxE,aAA2CmF,IAAKC,MAAA,SAAAC,GAAyBb,EAAAvB,aAAe0B,EAAA,KAAUE,YAAA,qBAA+BL,EAAAc,GAAA,0BAAAd,EAAAc,GAAA,KAAAX,EAAA,OAAyDE,YAAA,eAAyBF,EAAA,SAAcE,YAAA,sBAAgCL,EAAAsB,GAAA,GAAAtB,EAAAc,GAAA,KAAAd,EAAA3D,MAAAG,QAA8mCwD,EAAAuB,KAA9mCpB,EAAA,QAAAH,EAAAwB,GAAAxB,EAAA,cAAAyB,EAAAC,GAA+F,OAAAvB,EAAA,MAAAA,EAAA,MAAyBE,YAAA,cAAAY,UAAoCU,YAAA3B,EAAA4B,IAAA5B,EAAA3D,MAAAC,QAAA,GAAA0D,EAAA3D,MAAAE,SAAAmF,EAAA,MAAkF1B,EAAAc,GAAA,KAAAX,EAAA,MAAAA,EAAA,KAA+BE,YAAA,oBAAAI,OAAuCoB,KAAA,sBAA4BZ,UAAWU,YAAA3B,EAAA4B,GAAAH,EAAAK,OAAgCnB,IAAKC,MAAA,SAAAC,GAAyBb,EAAAzB,KAAAkD,SAAiBzB,EAAAc,GAAA,KAAAX,EAAA,MAAyBc,UAAUU,YAAA3B,EAAA4B,GAAAH,EAAA3F,UAAkCkE,EAAAc,GAAA,KAAAX,EAAA,MAAuBc,UAAUU,YAAA3B,EAAA4B,GAAAH,EAAAM,SAAiC/B,EAAAc,GAAA,KAAAX,EAAA,MAAuBE,YAAA,cAAAY,UAAoCU,YAAA3B,EAAA4B,GAAA5B,EAAAgC,SAAAC,QAAAC,WAAAT,EAAAU,gBAAwEnC,EAAAc,GAAA,KAAAX,EAAA,MAAuBE,YAAA,YAAsBF,EAAA,KAAUE,YAAA,qBAAAI,OAAwCoB,KAAA,qBAAAO,MAAA,MAAyCzB,IAAKC,MAAA,SAAAC,GAAyBb,EAAAZ,WAAAqC,OAAuBtB,EAAA,KAAUE,YAAA,uBAA+BL,EAAAc,GAAA,KAAAX,EAAA,KAAwBE,YAAA,qBAAAI,OAAwCoB,KAAA,qBAAAO,MAAA,QAA2CzB,IAAKC,MAAA,SAAAC,GAAyBb,EAAAP,YAAAgC,OAAwBtB,EAAA,KAAUE,YAAA,kCAAyCL,EAAAc,GAAA,KAAAX,EAAA,sBAAmDM,OAAO/E,KAAAsE,EAAAtE,KAAAc,QAAAwD,EAAA3D,MAAAG,YAA6C,GAAAwD,EAAAc,GAAA,KAAAX,EAAA,OAA4BE,YAAA,iBAA2BF,EAAA,cAAmBM,OAAO4B,aAAArC,EAAA3D,UAAwB,GAAA2D,EAAAc,GAAA,KAAAX,EAAA,gBAAqCM,OAAO6B,aAAAtC,EAAAvD,yBAAA8F,QAAAvC,EAAAlD,YAAkEqD,EAAA,OAAYE,YAAA,eAAAI,OAAkC+B,KAAA,cAAoBA,KAAA,eAAmBrC,EAAA,MAAWE,YAAA,gBAA0BL,EAAAc,GAAA,UAAAd,EAAAc,GAAA,KAAAX,EAAA,UAA4CE,YAAA,QAAAI,OAA2BC,KAAA,UAAgBC,IAAKC,MAAA,SAAAC,GAAyBb,EAAAvD,0BAAA,MAAuC0D,EAAA,QAAaE,YAAA,YAAAI,OAA+B2B,MAAA,QAAcpC,EAAAc,GAAA,WAAAd,EAAAc,GAAA,KAAAX,EAAA,OAA0CE,YAAA,kBAAAI,OAAqC+B,KAAA,YAAkBA,KAAA,aAAiBrC,EAAA,QAAaE,YAAA,4CAAsDF,EAAA,OAAYE,YAAA,eAAyBF,EAAA,SAAcE,YAAA,yBAAmCL,EAAAc,GAAA,SAAAd,EAAAc,GAAA,KAAAX,EAAA,OAAwCE,YAAA,iBAA2BF,EAAA,SAAcG,aAAajF,KAAA,QAAAkF,QAAA,UAAAzE,MAAAkE,EAAA,SAAAQ,WAAA,aAA4EnF,KAAA,QAAAkF,QAAA,YAA+BF,YAAA,eAAAI,OAAoCC,KAAA,WAAAK,YAAA,MAAAC,UAAA,IAAqDC,UAAWnF,MAAAkE,EAAA,UAAuBW,IAAKO,MAAA,SAAAL,GAAyBA,EAAAM,OAAAC,YAAsCpB,EAAArD,SAAAkE,EAAAM,OAAArF,aAAmCkE,EAAAc,GAAA,KAAAX,EAAA,OAA0BE,YAAA,cAAwBF,EAAA,KAAUE,YAAA,eAAiBL,EAAAc,GAAA,KAAAX,EAAA,OAAgCE,YAAA,eAAAI,OAAkC+B,KAAA,cAAoBA,KAAA,eAAmBrC,EAAA,UAAeE,YAAA,oBAAAI,OAAuCC,KAAA,UAAgBC,IAAKC,MAAA,SAAAC,GAAyBb,EAAAvD,0BAAA,MAAuC0D,EAAA,KAAUE,YAAA,gBAA0BF,EAAA,QAAAH,EAAAc,GAAA,UAAAd,EAAAc,GAAA,KAAAX,EAAA,UAAuDE,YAAA,iBAAAI,OAAoCC,KAAA,UAAgBC,IAAKC,MAAA,SAAAC,GAAyBb,EAAAyC,qBAAuBtC,EAAA,KAAUE,YAAA,gBAA0BF,EAAA,QAAAH,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAAX,EAAA,gBAAiEM,OAAO6B,aAAAtC,EAAA/C,iBAAAsF,QAAAvC,EAAAhD,eAA6DmD,EAAA,OAAYE,YAAA,eAAAI,OAAkC+B,KAAA,cAAoBA,KAAA,eAAmBrC,EAAA,MAAWE,YAAA,gBAA0BL,EAAAc,GAAA,UAAAd,EAAAc,GAAA,KAAAX,EAAA,UAA4CE,YAAA,QAAAI,OAA2BC,KAAA,UAAgBC,IAAKC,MAAA,SAAAC,GAAyBb,EAAA/C,kBAAA,MAA+BkD,EAAA,QAAaE,YAAA,YAAAI,OAA+B2B,MAAA,QAAcpC,EAAAc,GAAA,WAAAd,EAAAc,GAAA,KAAAX,EAAA,OAA0CE,YAAA,kBAAAI,OAAqC+B,KAAA,YAAkBA,KAAA,aAAiBrC,EAAA,OAAYE,YAAA,aAAAqC,aAAsCC,aAAA,WAAsBxC,EAAA,SAAcE,YAAA,sBAAgCF,EAAA,SAAAA,EAAA,MAAAA,EAAA,MAAgCE,YAAA,QAAkBL,EAAAc,GAAA,OAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAqCE,YAAA,SAAmBL,EAAAc,GAAA,OAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAAH,EAAAc,GAAA,OAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAwEE,YAAA,SAAmBL,EAAAc,GAAA,SAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAuCE,YAAA,SAAmBL,EAAAc,GAAA,cAAAd,EAAAc,GAAA,KAAAd,EAAA5C,aAAAZ,QAA2mBwD,EAAAuB,KAA3mBpB,EAAA,QAAAH,EAAAwB,GAAAxB,EAAA,qBAAAyB,EAAAC,GAAwH,OAAAvB,EAAA,MAAAA,EAAA,MAAyBE,YAAA,cAAAY,UAAoCU,YAAA3B,EAAA4B,IAAA5B,EAAA5C,aAAAd,QAAA,GAAA0D,EAAA5C,aAAAb,SAAAmF,EAAA,MAAgG1B,EAAAc,GAAA,KAAAX,EAAA,MAAuBc,UAAUU,YAAA3B,EAAA4B,GAAAH,EAAAK,SAAiC9B,EAAAc,GAAA,KAAAX,EAAA,MAAuBc,UAAUU,YAAA3B,EAAA4B,GAAAH,EAAA3F,UAAkCkE,EAAAc,GAAA,KAAAX,EAAA,MAAuBc,UAAUU,YAAA3B,EAAA4B,GAAAH,EAAAmB,iBAAyC5C,EAAAc,GAAA,KAAAX,EAAA,MAAuBE,YAAA,cAAAY,UAAoCU,YAAA3B,EAAA4B,GAAA5B,EAAAgC,SAAAC,QAAAC,WAAAT,EAAAU,uBAA4EnC,EAAAc,GAAA,KAAAX,EAAA,OAAoCE,YAAA,iBAA2BF,EAAA,cAAmBM,OAAO4B,aAAArC,EAAA5C,iBAA+B,OAAA4C,EAAAc,GAAA,KAAAX,EAAA,OAAgCE,YAAA,eAAAI,OAAkC+B,KAAA,cAAoBA,KAAA,eAAmBrC,EAAA,UAAeE,YAAA,iBAAAI,OAAoCC,KAAA,UAAgBC,IAAKC,MAAA,SAAAC,GAAyBb,EAAA/C,kBAAA,MAA+BkD,EAAA,KAAUE,YAAA,gBAA0BF,EAAA,QAAAH,EAAAc,GAAA,mBAEzoN+B,iBADjB,WAAoC,IAAA7C,EAAAzC,KAAa0C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,SAAAA,EAAA,MAAAA,EAAA,MAAqCE,YAAA,QAAkBL,EAAAc,GAAA,OAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAqCE,YAAA,SAAmBL,EAAAc,GAAA,OAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAqCE,YAAA,SAAmBL,EAAAc,GAAA,OAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAAH,EAAAc,GAAA,QAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAyEE,YAAA,SAAmBL,EAAAc,GAAA,UAAAd,EAAAc,GAAA,KAAAX,EAAA,MAAwCE,YAAA,SAAmBL,EAAAc,GAAA,eCEja,IAcAgC,EAdyBC,EAAQ,OAcjCC,CACE5H,EACA0E,GATF,EAVA,SAAAmD,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/13.7eeeb3bdeaa42fceca3e.js","sourcesContent":["<template>\r\n  <div class='maincontent listcontent'>\r\n    <div class='list-header-but-group'>\r\n      <button type=\"button inline-block\" class=\"btn btn-outline-purple\" @click=\"add()\" v-authcode='\"userList_add\"'>\r\n        <i class='fa fa-plus fa-plus-myrotate mr5'></i>添加\r\n      </button>\r\n      <button type=\"button inline-block\" class=\"btn btn-outline-purple\" @click=\"removeAllCache()\" v-authcode='\"userList_add\"'>\r\n        <i class='fa fa-plus fa-plus-myrotate mr5'></i>清除所有缓存\r\n      </button>\r\n    </div>\r\n    <div class='searchbar'>\r\n      <form class='myform form-inline form-group-w280 form-label-w80'>\r\n        <div class=\"form-group\">\r\n          <label class=\"form-label colon\">键</label>\r\n          <div class=\"form-content\">\r\n            <input type=\"text\" class=\"form-control\" placeholder=\"键\" autofocus v-model='searchKey'>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group btn100\">\r\n          <button type=\"button\" class=\"btn btn-purple ml20\" @click='search()' :disabled='allDisabled'>\r\n            <i class='fa fa-search mr5'></i>搜索\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <div class='table-list'>\r\n      <table class=\"table table-hover\">\r\n        <thead>\r\n        <tr>\r\n          <th class='w50'>#</th>\r\n          <th class='w200'>键</th>\r\n          <th class='w200'>值</th>\r\n          <th>备注</th>\r\n          <th class='w155'>创建时间</th>\r\n          <th class='w100'>操作</th>\r\n        </tr>\r\n        </thead>\r\n        <tbody v-if='!pager.loading'>\r\n        <tr v-for=\"(item, index) in list\">\r\n          <td class=\"text-center\" v-text='((pager.pageNum - 1) * pager.pageSize) + index + 1'></td>\r\n          <td>\r\n            <a class='block w100p h100p' href='javascript:void(0)' v-text='item.code' @click='edit(item)'></a>\r\n          </td>\r\n          <td v-text='item.value'></td>\r\n          <td v-text='item.memo'></td>\r\n          <td class='text-center' v-text='$options.filters.formatDate(item.createTime)'></td>\r\n          <td class='operate'>\r\n            <a class='inline-block mybtn' href='javascript:void(0)' @click='deleteItem(item)' title='删除'>\r\n              <i class='fa fa-trash cf05'></i>\r\n            </a>\r\n            <a class='inline-block mybtn' href='javascript:void(0)' @click='showHistory(item)' title='操作记录'>\r\n              <i class='fa fa-history c9c0'></i>\r\n            </a>\r\n          </td>\r\n        </tr>\r\n        </tbody>\r\n      </table>\r\n      <table-list-loading :list='list' :loading='pager.loading'></table-list-loading>\r\n    </div>\r\n    <div class='footer-pager'>\r\n      <pagination :pager-info='pager'></pagination>\r\n    </div>\r\n    <common-modal :show-modal='showChangePasswordDialog' :options=\"modalOpt\">\r\n      <div class=\"modal-header\" slot='headerSlot'>\r\n        <h5 class=\"modal-title\">修改密码</h5>\r\n        <button type=\"button\" class=\"close\" @click='showChangePasswordDialog = false'>\r\n          <span class='closeicon' title=\"关闭\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body pr20\" slot=\"bodySlot\">\r\n        <form class='myform form-label-w100 block-form-group'>\r\n          <div class=\"form-group\">\r\n            <label class=\"form-label req colon\">新密码</label>\r\n            <div class=\"form-content\">\r\n              <input type=\"password\" class=\"form-control\" placeholder=\"新密码\" autofocus\r\n                     v-model='password' v-focus/>\r\n            </div>\r\n            <div class='form-info'>\r\n              <i class='fa'></i>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class=\"modal-footer\" slot=\"footerSlot\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" @click='showChangePasswordDialog = false'>\r\n          <i class='fa fa-times'></i><span>取消</span>\r\n        </button>\r\n        <button type=\"button\" class=\"btn btn-purple\" @click='changePassword()'>\r\n          <i class='fa fa-check'></i><span>确定</span>\r\n        </button>\r\n      </div>\r\n    </common-modal>\r\n\r\n\r\n    <common-modal :show-modal='showHitoryDialog' :options=\"bigModalOpt\">\r\n      <div class=\"modal-header\" slot='headerSlot'>\r\n        <h5 class=\"modal-title\">历史记录</h5>\r\n        <button type=\"button\" class=\"close\" @click='showHitoryDialog = false'>\r\n          <span class='closeicon' title=\"关闭\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body pr20\" slot=\"bodySlot\">\r\n        <div class='table-list' style=\"min-height:300px\">\r\n          <table class=\"table table-hover\">\r\n            <thead>\r\n            <tr>\r\n              <th class='w50'>#</th>\r\n              <th class='w150'>键</th>\r\n              <th>值</th>\r\n              <th class=\"w120\">操作人</th>\r\n              <th class='w155'>创建时间</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody v-if='!historyPager.loading'>\r\n            <tr v-for=\"(item, index) in historyList\">\r\n              <td class=\"text-center\" v-text='((historyPager.pageNum - 1) * historyPager.pageSize) + index + 1'></td>\r\n              <td v-text='item.code'></td>\r\n              <td v-text='item.value'></td>\r\n              <td v-text='item.createByName'></td>\r\n              <td class='text-center' v-text='$options.filters.formatDate(item.createTime)'></td>\r\n            </tr>\r\n            </tbody>\r\n          </table>\r\n<!--          <table-list-loading :list='historyList' :loading='historyPager.loading'></table-list-loading>-->\r\n          <div class='footer-pager'>\r\n            <pagination :pager-info='historyPager'></pagination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer\" slot=\"footerSlot\">\r\n        <button type=\"button\" class=\"btn btn-purple\" @click='showHitoryDialog = false'>\r\n          <i class='fa fa-times'></i><span>关闭</span>\r\n        </button>\r\n      </div>\r\n    </common-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import commonSrv from '@/common/commonService';\r\n  import commonModal from '@/components/common/commonModal';\r\n\r\n  export default {\r\n    name: 'userList',\r\n    inject: ['reload'],\r\n    data () {\r\n      return {\r\n        allDisabled: true,\r\n        searchKey: null,\r\n        list: [],\r\n        sexValue: '',\r\n        sexList: [],\r\n        nameOrderBy: {value: enumMap.OrderByType.ASC.key},\r\n        codeOrderBy: {value: null},\r\n        createdOnOrderBy: {value: null},\r\n        pager: {pageNum: 1, pageSize: 5, loading: true},\r\n        showChangePasswordDialog: false,\r\n        userCode: null,\r\n        password: null,\r\n        YesNo: enumMap.YesNo,\r\n        Sex: enumMap.Sex,\r\n        modalOpt: {width: '350px'},\r\n        bigModalOpt: {width: '1000px'},\r\n        showHitoryDialog: false,\r\n        historyItem: null,\r\n        historyList: [],\r\n        historyPager: {pageNum: 1, pageSize: 10, loading: true}\r\n      }\r\n    },\r\n    methods: {\r\n      reloadPage() {\r\n        this.reload();\r\n      },\r\n      add() {\r\n        var me = this;\r\n        this.$axios.get('/comm/getNewId').then(function (resp) {\r\n          if(resp.data.status == ResultStatus.OK.key) {\r\n            me.$router.push({path: '/kvConfig/edit', query: {id: resp.data.value}});\r\n          }\r\n        });\r\n\r\n      },\r\n      edit(entity) {\r\n        this.$router.push({path: '/kvConfig/edit', query: {id: entity.id}});\r\n      },\r\n      search() {\r\n        this.goPage(1);\r\n      },\r\n      queryList() {\r\n        var me = this;\r\n        me.allDisabled = true;\r\n        me.pager.loading = true;\r\n        this.$axios.get('/kvConfig/queryPageList', {\r\n          userName: this.searchKey,\r\n          sex: this.sexValue,\r\n          pageNum: this.pager.pageNum,\r\n          pageSize: this.pager.pageSize,\r\n          nameOrderBy: this.nameOrderBy.value,\r\n          codeOrderBy: this.codeOrderBy.value,\r\n          createdOnOrderBy: this.createdOnOrderBy.value\r\n        }).then(function (resp) {\r\n          if(resp.data.status == ResultStatus.OK.key) {\r\n            me.list = resp.data.value.list;\r\n            me.pager = commonSrv.getPagerInfo(resp.data.value, me.goPage);\r\n          } else {\r\n              me.pager.loading = false;\r\n          }\r\n          me.allDisabled = false;\r\n        });\r\n      },\r\n      goPage(page) {\r\n        this.pager.pageNum = page;\r\n        this.queryList();\r\n      },\r\n      queryHistoryList() {\r\n        var me = this;\r\n        me.allDisabled = true;\r\n        me.historyPager.loading = true;\r\n        this.$axios.get('/kvConfigLog/queryPageList', {\r\n          pageNum: this.historyPager.pageNum,\r\n          pageSize: this.historyPager.pageSize,\r\n          kvId: this.historyItem.id,\r\n        }).then(function (resp) {\r\n          if(resp.data.status == ResultStatus.OK.key) {\r\n            me.historyList = resp.data.value.list;\r\n            me.historyPager = commonSrv.getPagerInfo(resp.data.value, me.goHistoryPage);\r\n          } else {\r\n            me.historyPager.loading = false;\r\n          }\r\n          me.allDisabled = false;\r\n        });\r\n      },\r\n      goHistoryPage(page) {\r\n        this.historyPager.pageNum = page;\r\n        this.queryHistoryList();\r\n      },\r\n      deleteItem: function (entity) {\r\n        var me = this;\r\n        this.$confirm.confirm('确定要删除键值对吗？', function () {\r\n          me.$axios.get('/kvConfig/delete', {id: entity.id}).then(function (resp) {\r\n            if(resp.data.status == ResultStatus.OK.key) {\r\n              me.$toaster.success('删除成功！');\r\n              me.queryList();\r\n            }\r\n          });\r\n        });\r\n      },\r\n      showHistory: function(entity) {\r\n        this.showHitoryDialog = true;\r\n        this.historyItem = entity;\r\n        this.queryHistoryList();\r\n      },\r\n      removeAllCache: function() {\r\n        var me = this;\r\n        this.$confirm.confirm('确定要清除所有缓存吗？', function () {\r\n          me.$axios.get('/kvConfig/removeAllCache').then(function (resp) {\r\n            if(resp.data.status == ResultStatus.OK.key) {\r\n              me.$toaster.success('清除所有缓存成功！');\r\n            }\r\n          });\r\n        });\r\n      }\r\n    },\r\n    mounted: function () {\r\n      this.search();\r\n    },\r\n    components: {commonModal}\r\n  }\r\n</script>\r\n<style scoped>\r\n  .fa-female{color:#f3c;}\r\n  .fa-male{color:#09c;}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/kvConfig/kvList.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"maincontent listcontent\"},[_c('div',{staticClass:\"list-header-but-group\"},[_c('button',{directives:[{name:\"authcode\",rawName:\"v-authcode\",value:(\"userList_add\"),expression:\"\\\"userList_add\\\"\"}],staticClass:\"btn btn-outline-purple\",attrs:{\"type\":\"button inline-block\"},on:{\"click\":function($event){_vm.add()}}},[_c('i',{staticClass:\"fa fa-plus fa-plus-myrotate mr5\"}),_vm._v(\"添加\\n      \")]),_vm._v(\" \"),_c('button',{directives:[{name:\"authcode\",rawName:\"v-authcode\",value:(\"userList_add\"),expression:\"\\\"userList_add\\\"\"}],staticClass:\"btn btn-outline-purple\",attrs:{\"type\":\"button inline-block\"},on:{\"click\":function($event){_vm.removeAllCache()}}},[_c('i',{staticClass:\"fa fa-plus fa-plus-myrotate mr5\"}),_vm._v(\"清除所有缓存\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"searchbar\"},[_c('form',{staticClass:\"myform form-inline form-group-w280 form-label-w80\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label colon\"},[_vm._v(\"键\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchKey),expression:\"searchKey\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"键\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.searchKey)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchKey=$event.target.value}}})])]),_vm._v(\" \"),_c('div',{staticClass:\"form-group btn100\"},[_c('button',{staticClass:\"btn btn-purple ml20\",attrs:{\"type\":\"button\",\"disabled\":_vm.allDisabled},on:{\"click\":function($event){_vm.search()}}},[_c('i',{staticClass:\"fa fa-search mr5\"}),_vm._v(\"搜索\\n          \")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"table-list\"},[_c('table',{staticClass:\"table table-hover\"},[_vm._m(0),_vm._v(\" \"),(!_vm.pager.loading)?_c('tbody',_vm._l((_vm.list),function(item,index){return _c('tr',[_c('td',{staticClass:\"text-center\",domProps:{\"textContent\":_vm._s(((_vm.pager.pageNum - 1) * _vm.pager.pageSize) + index + 1)}}),_vm._v(\" \"),_c('td',[_c('a',{staticClass:\"block w100p h100p\",attrs:{\"href\":\"javascript:void(0)\"},domProps:{\"textContent\":_vm._s(item.code)},on:{\"click\":function($event){_vm.edit(item)}}})]),_vm._v(\" \"),_c('td',{domProps:{\"textContent\":_vm._s(item.value)}}),_vm._v(\" \"),_c('td',{domProps:{\"textContent\":_vm._s(item.memo)}}),_vm._v(\" \"),_c('td',{staticClass:\"text-center\",domProps:{\"textContent\":_vm._s(_vm.$options.filters.formatDate(item.createTime))}}),_vm._v(\" \"),_c('td',{staticClass:\"operate\"},[_c('a',{staticClass:\"inline-block mybtn\",attrs:{\"href\":\"javascript:void(0)\",\"title\":\"删除\"},on:{\"click\":function($event){_vm.deleteItem(item)}}},[_c('i',{staticClass:\"fa fa-trash cf05\"})]),_vm._v(\" \"),_c('a',{staticClass:\"inline-block mybtn\",attrs:{\"href\":\"javascript:void(0)\",\"title\":\"操作记录\"},on:{\"click\":function($event){_vm.showHistory(item)}}},[_c('i',{staticClass:\"fa fa-history c9c0\"})])])])})):_vm._e()]),_vm._v(\" \"),_c('table-list-loading',{attrs:{\"list\":_vm.list,\"loading\":_vm.pager.loading}})],1),_vm._v(\" \"),_c('div',{staticClass:\"footer-pager\"},[_c('pagination',{attrs:{\"pager-info\":_vm.pager}})],1),_vm._v(\" \"),_c('common-modal',{attrs:{\"show-modal\":_vm.showChangePasswordDialog,\"options\":_vm.modalOpt}},[_c('div',{staticClass:\"modal-header\",attrs:{\"slot\":\"headerSlot\"},slot:\"headerSlot\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"修改密码\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showChangePasswordDialog = false}}},[_c('span',{staticClass:\"closeicon\",attrs:{\"title\":\"关闭\"}},[_vm._v(\"×\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body pr20\",attrs:{\"slot\":\"bodySlot\"},slot:\"bodySlot\"},[_c('form',{staticClass:\"myform form-label-w100 block-form-group\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{staticClass:\"form-label req colon\"},[_vm._v(\"新密码\")]),_vm._v(\" \"),_c('div',{staticClass:\"form-content\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.password),expression:\"password\"},{name:\"focus\",rawName:\"v-focus\"}],staticClass:\"form-control\",attrs:{\"type\":\"password\",\"placeholder\":\"新密码\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"form-info\"},[_c('i',{staticClass:\"fa\"})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\",attrs:{\"slot\":\"footerSlot\"},slot:\"footerSlot\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showChangePasswordDialog = false}}},[_c('i',{staticClass:\"fa fa-times\"}),_c('span',[_vm._v(\"取消\")])]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-purple\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.changePassword()}}},[_c('i',{staticClass:\"fa fa-check\"}),_c('span',[_vm._v(\"确定\")])])])]),_vm._v(\" \"),_c('common-modal',{attrs:{\"show-modal\":_vm.showHitoryDialog,\"options\":_vm.bigModalOpt}},[_c('div',{staticClass:\"modal-header\",attrs:{\"slot\":\"headerSlot\"},slot:\"headerSlot\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"历史记录\")]),_vm._v(\" \"),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showHitoryDialog = false}}},[_c('span',{staticClass:\"closeicon\",attrs:{\"title\":\"关闭\"}},[_vm._v(\"×\")])])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-body pr20\",attrs:{\"slot\":\"bodySlot\"},slot:\"bodySlot\"},[_c('div',{staticClass:\"table-list\",staticStyle:{\"min-height\":\"300px\"}},[_c('table',{staticClass:\"table table-hover\"},[_c('thead',[_c('tr',[_c('th',{staticClass:\"w50\"},[_vm._v(\"#\")]),_vm._v(\" \"),_c('th',{staticClass:\"w150\"},[_vm._v(\"键\")]),_vm._v(\" \"),_c('th',[_vm._v(\"值\")]),_vm._v(\" \"),_c('th',{staticClass:\"w120\"},[_vm._v(\"操作人\")]),_vm._v(\" \"),_c('th',{staticClass:\"w155\"},[_vm._v(\"创建时间\")])])]),_vm._v(\" \"),(!_vm.historyPager.loading)?_c('tbody',_vm._l((_vm.historyList),function(item,index){return _c('tr',[_c('td',{staticClass:\"text-center\",domProps:{\"textContent\":_vm._s(((_vm.historyPager.pageNum - 1) * _vm.historyPager.pageSize) + index + 1)}}),_vm._v(\" \"),_c('td',{domProps:{\"textContent\":_vm._s(item.code)}}),_vm._v(\" \"),_c('td',{domProps:{\"textContent\":_vm._s(item.value)}}),_vm._v(\" \"),_c('td',{domProps:{\"textContent\":_vm._s(item.createByName)}}),_vm._v(\" \"),_c('td',{staticClass:\"text-center\",domProps:{\"textContent\":_vm._s(_vm.$options.filters.formatDate(item.createTime))}})])})):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"footer-pager\"},[_c('pagination',{attrs:{\"pager-info\":_vm.historyPager}})],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"modal-footer\",attrs:{\"slot\":\"footerSlot\"},slot:\"footerSlot\"},[_c('button',{staticClass:\"btn btn-purple\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){_vm.showHitoryDialog = false}}},[_c('i',{staticClass:\"fa fa-times\"}),_c('span',[_vm._v(\"关闭\")])])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('th',{staticClass:\"w50\"},[_vm._v(\"#\")]),_vm._v(\" \"),_c('th',{staticClass:\"w200\"},[_vm._v(\"键\")]),_vm._v(\" \"),_c('th',{staticClass:\"w200\"},[_vm._v(\"值\")]),_vm._v(\" \"),_c('th',[_vm._v(\"备注\")]),_vm._v(\" \"),_c('th',{staticClass:\"w155\"},[_vm._v(\"创建时间\")]),_vm._v(\" \"),_c('th',{staticClass:\"w100\"},[_vm._v(\"操作\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3bd0ba1d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/kvConfig/kvList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3bd0ba1d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./kvList.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./kvList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./kvList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3bd0ba1d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./kvList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3bd0ba1d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/kvConfig/kvList.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}