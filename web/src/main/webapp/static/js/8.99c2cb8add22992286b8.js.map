{"version":3,"sources":["webpack:///src/components/user/userRole.vue","webpack:///./src/components/user/userRole.vue?d85a","webpack:///./src/components/user/userRole.vue"],"names":["userRole","name","data","list","id","relativeId","isCheck","subList","methods","goBack","this","$root","getUserRole","me","$axios","get","then","resp","status","ResultStatus","OK","key","value","save","parent","entity","flag","i","length","changed","post","listStr","stringify_default","saveGroup","push","mounted","$route","query","user_userRole","render","_vm","_h","$createElement","_c","_self","staticClass","_l","root","class","noboderbottom","showDetail","attrs","type","_v","staticStyle","display","margin-left","domProps","textContent","_s","directives","rawName","expression","checked","Array","isArray","_i","on","change","$event","$$a","$$el","target","$$c","$$i","$set","concat","slice","fa-chevron-up","fa-chevron-down","click","hidedetail","role","_e","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/8.99c2cb8add22992286b8.js","sourcesContent":["<template>\r\n  <div class='w100p h100p oxh oya'>\r\n    <div class=\"mypanel\" v-for='root in list'>\r\n      <div class=\"panel-heading font-bold\" :class='{\"noboderbottom\":root.subList.length == 0 || !root.showDetail}'>\r\n        <label class=\"radio_checkbox\">\r\n          <input type='checkbox'/>\r\n          <i style='display:none;'></i>\r\n          <span style='margin-left:5px;' v-text=\"root.name\"></span>\r\n        </label>\r\n        <div class='inline-block fr'>\r\n          <label class=\"radio_checkbox checkall\">\r\n            <input type='checkbox' v-model='root.isCheck' @change='saveGroup(root)'/>\r\n            <i></i>\r\n            <span>全选</span>\r\n          </label>\r\n          <i class=\"fa showdetailarray\" :class='{\"fa-chevron-up\":root.showDetail,\"fa-chevron-down\":!root.showDetail}'\r\n             @click='root.showDetail = !root.showDetail'></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"panel-body\" :class='{\"hidedetail\":!root.showDetail}' v-if='root.subList.length > 0'>\r\n        <label class=\"radio_checkbox\" v-for=\"role in root.subList\">\r\n          <input type='checkbox' v-model=\"role.isCheck\" @change='save(root, role)'/>\r\n          <i></i>\r\n          <span v-text=\"role.name\"></span>\r\n        </label>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'userRole',\r\n    data () {\r\n      return {\r\n        list: [{id: null, name: null, relativeId: null, isCheck: false, subList: []}]\r\n      }\r\n    },\r\n    methods: {\r\n      goBack() {\r\n        this.$root.goBack();\r\n      },\r\n      getUserRole: function (id) {\r\n        var me = this;\r\n        this.$axios.get('/userRole/queryUserRole', {id: id}).then(function (resp) {\r\n          if (resp.data.status == ResultStatus.OK.key) {\r\n            me.list = resp.data.value;\r\n          }\r\n        });\r\n      },\r\n      save: function (parent, entity) {\r\n          var me = this;\r\n        if (!entity.isCheck) {\r\n          parent.isCheck = false;\r\n        } else {\r\n          var flag = true;\r\n          for (var i = 0; i < parent.subList.length; i++) {\r\n            if (!parent.subList[i].isCheck) {\r\n              flag = false;\r\n              break;\r\n            }\r\n          }\r\n          parent.isCheck = flag;\r\n        }\r\n        var changed = [entity];\r\n        // 处理联动\r\n        this.$axios.post('/userRole/saveUserRole', {listStr: JSON.stringify(changed)}).then(function (resp) {\r\n          if (resp.data.status == ResultStatus.OK.key) {\r\n          }\r\n        });\r\n      },\r\n      saveGroup: function (parent) {\r\n          var me = this;\r\n        if (!parent.subList || parent.subList.length == 0) return;\r\n        var changed = [];\r\n        for (var i = 0; i < parent.subList.length; i++) {\r\n          if (parent.subList[i].isCheck !== parent.isCheck) {\r\n            parent.subList[i].isCheck = parent.isCheck;\r\n            changed.push(parent.subList[i]);\r\n          }\r\n        }\r\n        if (changed.length == 0) return;\r\n        // 处理联动\r\n        this.$axios.post('/userRole/saveUserRole', {listStr: JSON.stringify(changed)}).then(function (resp) {\r\n          if (resp.data.status == ResultStatus.OK.key) {\r\n          }\r\n        });\r\n      }\r\n    },\r\n    mounted: function () {\r\n      this.getUserRole(this.$route.query.id);\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .mypanel {\r\n    margin: auto;\r\n    width: calc(100% - 30px);\r\n    margin-top: 15px;\r\n    border-color: #5ba66c;\r\n  }\r\n\r\n  .panel-body {\r\n    overflow: hidden;\r\n    transition: 0.3s;\r\n    padding: 8px;\r\n  }\r\n\r\n  .subpanel {\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n    margin-top: 0;\r\n  }\r\n\r\n  .subpanel:last-child {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .mypanel.subpanel {\r\n    border-color: #a0ccfb;\r\n  }\r\n\r\n  .subpanel .mypanel.subpanel {\r\n    border-color: #ac80f3;\r\n  }\r\n\r\n  .radio_checkbox {\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .panel-heading {\r\n    padding: 8px;\r\n  }\r\n\r\n  .showdetailarray {\r\n    display: inline-block;\r\n    width: 30px;\r\n    height: 29px;\r\n    line-height: 28px;\r\n    margin-right: 0;\r\n    text-align: center;\r\n    cursor: pointer\r\n  }\r\n\r\n  .checkall {\r\n    margin-right: 0;\r\n  }\r\n\r\n  .hidedetail {\r\n    height: 0;\r\n    padding: 0;\r\n  }\r\n\r\n  .noboderbottom {\r\n    border-bottom-width: 0;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/userRole.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"w100p h100p oxh oya\"},_vm._l((_vm.list),function(root){return _c('div',{staticClass:\"mypanel\"},[_c('div',{staticClass:\"panel-heading font-bold\",class:{\"noboderbottom\":root.subList.length == 0 || !root.showDetail}},[_c('label',{staticClass:\"radio_checkbox\"},[_c('input',{attrs:{\"type\":\"checkbox\"}}),_vm._v(\" \"),_c('i',{staticStyle:{\"display\":\"none\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"margin-left\":\"5px\"},domProps:{\"textContent\":_vm._s(root.name)}})]),_vm._v(\" \"),_c('div',{staticClass:\"inline-block fr\"},[_c('label',{staticClass:\"radio_checkbox checkall\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(root.isCheck),expression:\"root.isCheck\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(root.isCheck)?_vm._i(root.isCheck,null)>-1:(root.isCheck)},on:{\"change\":[function($event){var $$a=root.isCheck,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(root, \"isCheck\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(root, \"isCheck\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(root, \"isCheck\", $$c)}},function($event){_vm.saveGroup(root)}]}}),_vm._v(\" \"),_c('i'),_vm._v(\" \"),_c('span',[_vm._v(\"全选\")])]),_vm._v(\" \"),_c('i',{staticClass:\"fa showdetailarray\",class:{\"fa-chevron-up\":root.showDetail,\"fa-chevron-down\":!root.showDetail},on:{\"click\":function($event){root.showDetail = !root.showDetail}}})])]),_vm._v(\" \"),(root.subList.length > 0)?_c('div',{staticClass:\"panel-body\",class:{\"hidedetail\":!root.showDetail}},_vm._l((root.subList),function(role){return _c('label',{staticClass:\"radio_checkbox\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(role.isCheck),expression:\"role.isCheck\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(role.isCheck)?_vm._i(role.isCheck,null)>-1:(role.isCheck)},on:{\"change\":[function($event){var $$a=role.isCheck,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(role, \"isCheck\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(role, \"isCheck\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(role, \"isCheck\", $$c)}},function($event){_vm.save(root, role)}]}}),_vm._v(\" \"),_c('i'),_vm._v(\" \"),_c('span',{domProps:{\"textContent\":_vm._s(role.name)}})])})):_vm._e()])}))}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-70113786\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/userRole.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-70113786\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userRole.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userRole.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userRole.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-70113786\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userRole.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-70113786\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/userRole.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}